{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Интерактивная карта с карточками</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #fffdf5;
      padding: 20px;
    }
    h2 {
      color: #00796b;
    }
    #map {
      width: 100%;
      height: 600px;
      border-radius: 8px;
    }
    .popup-card {
      width: 240px;
      font-size: 13px;
    }
    .popup-card img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      border-radius: 6px;
      margin-bottom: 6px;
    }
    .popup-card h4 {
      margin: 0 0 4px;
      font-size: 16px;
      color: #333;
    }
    .popup-card p {
      margin: 0;
      color: #555;
    }
  </style>
</head>
<body>
  <h2>Карта достопримечательностей</h2>
  <div id="map"></div>

  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
  <script>
    ymaps.ready(function () {
        var map = new ymaps.Map("map", {
            center: [55.751244, 37.618423],
            zoom: 11
        });

        // Данные мест с локальными картинками
        var places = [
            {
                name: "Красная площадь",
                coords: [55.753930, 37.620795],
                description: "Главная площадь Москвы, сердце столицы.",
                image: "{% static 'images/redsquare.jpg' %}"
            },
            {
                name: "ВДНХ",
                coords: [55.8298, 37.6331],
                description: "Выставочный комплекс с фонтанами и музеями.",
                image: "{% static 'images/vdnh.jpg' %}"
            },
            {
                name: "Москва-Сити",
                coords: [55.7495, 37.5399],
                description: "Современный деловой район с небоскрёбами.",
                image: "{% static 'images/moscowcity.jpg' %}"
            }
        ];

        // Добавляем метки с балунами
        places.forEach(function(p) {
            var placemark = new ymaps.Placemark(p.coords, {
                balloonContent: `
                    <div class="popup-card">
                        <img src="${p.image}" alt="${p.name}">
                        <h4>${p.name}</h4>
                        <p>${p.description}</p>
                    </div>
                `
            }, {
                preset: 'islands#redDotIcon'
            });
            map.geoObjects.add(placemark);
        });
    });
  </script>
</body>
</html>
